<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <Script src="https://unpkg.com/react@17/umd/react.development.js"></Script>
    <Script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></Script>
    <Script src="https://unpkg.com/@babel/standalone/babel.min.js"></Script>
    <link rel="stylesheet" href="./style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Document</title>
</head>
<body>
    <h1 class="bg-primary text-white display-4">React</h1>
    <div class="container mt-3">
        <div class="m-4 bg-warning">margin 4</div>
        <div class="p-4 bg-warning">padding 4</div>
       
        <!-- <div class="bg-primary text-white">primary</div>
        <div class="bg-secondary text-white">secondary</div>
        <div class="bg-success text-dark">primary</div>
        <div class="bg-warning text-dark">primary</div> -->
        <div id="root">did not read JS on html</div>
        <div id="root2" onclick="doCount()">did not read script.js</div>
        <div id="root3">counter</div>
        <div id="root4">Form</div>
    </div>
    <script type="text/babel">
        const content_true = `true message`
        const content_false = `false message`

        const data_list=[
            <li className="list-group-item">One</li>,
            <li className="list-group-item">Two</li>,
            <li className="list-group-item">Three</li>
        ]
        const table_records = [
            {name:'Yamada', mail:'yamada@test.com', age:40},
            {name:'Tanaka', mail:'tanaka@test.com', age:20},
            {name:'Nakamura', mail:'nakamura@test.com', age:30},
            {name:'Yamamoto', mail:'yamamoto@test.com', age:55},
        ]

        let dom 
        let variable = "test var"

        const msg_style = {
            fontSize: "20px",
            color: "red",
            border: "1px solid blue"
        }

        // if文のテスト
        let message = "if文のテスト"
        const trueMessage =`これはtrueの時に表示されるメッセージ
        ちゃんと表示されてるか？`
        const falseMessage =`これはfalseの時に表示されるメッセージ
        ちゃんと表示されてるか？`
        let flg=false

        // 配列のテスト
        let listData=[
            <li className="list-group-item">ONE</li>,
            <li className="list-group-item">TWO</li>,
            <li className="list-group-item">THREE</li>
        ]

        // mapの場合
        let mapData=[{name:'Taro', mail:'taro@yamada.com', age:45},
        {name:'Hanako', mail:'hanako@flower.com', age:37},
        {name:'Sachiko', mail:'sachiko@happy.com', age:29},
        {name:'Jiro', mail:'jiro@change.com', age:18},
        {name:'Kumi', mail:'kumi@class.com', age:56},
    ]
        let printMsg = (msg,size,color)=>{
            const style ={
                fontSize: size + "pt",
                fontWeight: '700',
                color: color,
                border: "1px solid " + color
            }
            return <p style={style}>{msg}</p>

        }
        let flag = true


        // arrowfunction
        let objectData={
            url:'https://google.com',
            title:'Google',
            caption:'※これはGoogleのサイトです。'
        }

        // タイマーを使う
        let counter = 0
        
        setInterval(()=>{
            dom = document.querySelector('#root');
            counter++
        let el = (
            <div className="alert alert-primary">
                <h1>{variable}</h1>
                <h2>JSX sample</h2>
                <p style = {msg_style}>This is sample message from JS on html.</p>
                <div className="alert alert-secpmdary mt-3">
                    {printMsg('最初のメッセージ', 36, '#fff')}
                    {printMsg('次のメッセージ', 24, '#aaa')}
                    {printMsg('最後のメッセージ', 12, '#666')}
                </div>
                {flag ?
                    <p>{content_true}</p>
                    :
                    <p>{content_false}</p>
                    
                }
                <div>
                    <ul>
                        {data_list}
                    </ul>
                </div>
                <table className="table table-striped mt-4">
                    <thead className="table-dark">
                        <th>name</th>
                        <th>mail</th>
                        <th>age</th>
                    </thead>
                    <tbody>
                        {table_records.map((value)=>(
                            <tr>
                                <td>{value.name}</td>
                                <td>{value.mail}</td>
                                <td>{value.age}</td>
                            </tr>
                        ))}
                    </tbody>
                </table>
                <div>
                    <h6>{message}</h6>
                     trueのみの場合 <br />
                    {flg &&
                        <div className="alert alert-primary mt-3">
                            <p>{trueMessage}</p>
                        </div>
                    }
                    分岐
                    {flg ?
                        <div className="alert alert-primary mt-3">
                            <p>{trueMessage}</p>
                        </div>
                        :
                        <div className="alert alert-primary mt-3">
                            <p>{falseMessage}</p>
                        </div>

                    }
                    <div>
                        {listData}
                    </div>
                    map
                    {mapData.map((value)=>(
                        <tr>
                            <td>{value.name}</td>    
                            <td>{value.mail}</td>    
                            <td>{value.age}</td>    
                        </tr>
                    ))}
                </div>
                <div>
                    <h6>アロー関数活用</h6>
                    {(()=>
                        <div className="card mt-4">
                            <div className="card-header">
                                {objectData.title}    
                            </div>
                            <div className="card-body">
                                {objectData.caption}
                            </div>
                            <div className="card-footer">
                                <a href={objectData.url}>※{objectData.title}に移動</a>
                            </div>
                        </div>
                        
                        )()}
                </div>
                <h4>TimerTest</h4>
                <h5 className="alert alert-primary">
                    count:{counter}    
                </h5>
            </div>
        )
        ReactDOM.render(el,dom);
    },1000)
    
    // onclickイベントを使う
    let cliCounter=0
    let doAction=(event)=>{
        dom = document.querySelector('#root3');
        cliCounter++
        let cliEl=(
            <div>
                <h5 className="alert alert-primary" onClick={doAction}>
                    count:{cliCounter}
                </h5>    
            </div>
        )
        ReactDOM.render(cliEl,dom)
    }
    doAction()
    
    //form
    let in_val =''
    let formMessage = "お名前をどうぞ"
    let doChange = (e)=>{
        in_val=e.target.value
        formMessage='こんにちは'+ in_val+'さん!!'

    }
    let doActionForm = (e)=>{
        dom = document.querySelector('#root4')
        let formEl = (
            <div>
                <h6>{formMessage}</h6>
                <div className="alert alert-primary">
                    <div className="form-group">
                        <label>Input:</label>
                        <input type="text" className="form-control"
                        id="inputText" onChange={doChange} />
                        
                    </div>
                        <button onClick={doActionForm} className="btn btn-primary">
                            Click    
                        </button>
                </div>
            </div>
        )
        ReactDOM.render(formEl,dom)
    }
    doActionForm()
    </script>
    <!-- <Script src="./script.js"></Script> -->
</body>
</html>